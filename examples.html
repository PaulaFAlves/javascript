<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
</head>
<body>
	<div id="teste"></div>
	<script>
		/*
		// MAP

		let numbers = [1, 2, 3, 4, 5, 6]
		let multiplicateEachNumber = numbers.map(function(item) {
  			return item * 2;
		})
		console.log(numbers) // initial array, no changes
		console.log(multiplicateEachNumber) // new array

		//

		let guests = [
		  {
		    name: "paula alves",
		  }, 
		  {
		    name: "leandro",
		  }, 
		  {
		    name: "caroline",
		  }, 
		  {
		    name: "henrique",
		  }, 
		  ]

		let fixNames = guests.map(function(elem) {
  			return elem.name.charAt(0).toUpperCase() + elem.name.slice(1)
		})
		console.log(guests)
		console.log(fixNames)

		//

		let numbers = [1, 2, 3, 4, 5, 6]
		let multiplicateEachNumber = numbers.map((item) => {
  			return item * 2;
		})
		console.log(numbers) // initial array, no changes
		console.log(multiplicateEachNumber) // new array

		let _multiplicateEachNumber = (item) => {
  			return item * 2;
		}
		console.log(numbers.map(_multiplicateEachNumber));
		
		// FILTER

		let names = ['Paula', 'Leandro', 'Caroline', 'Henrique', 'Camila', 'Marcelo', 'Andressa', 'JosÃ©'];

		let letter = 'C';

		let selectNameWith = (elem) => elem.charAt(0) == letter

		let selectedNames = names.filter(selectNameWith);

		console.log(selectedNames);
		console.log(names);
		
		//

		let students = [
	{
		"name": "Paula Alves",
		"age": 38,
		"aproved": true,
	},
	{
		"name": "Leandro Ferri",
		"age": 25,
		"aproved": false,
	},
		{
		"name": "Caroline Vanazzi",
		"age": 26,
		"aproved": true,
	},	{
		"name": "Henrique Barbosa",
		"age": 12,
		"aproved": false,
	},	{
		"name": "Alice Eismann",
		"age": 1,
		"aproved": true,
	},
	]

	let aproved = students.filter((elem) => elem.aproved);
	let aproved2 = students.map((elem) => elem.aproved);

	console.log(aproved);
	console.log(aproved2)
	console.log(students);

	// REDUCE

	let values = [ 2, 4, 6, 3, 5, 8, 10]

	let sum = values.reduce((total, item) => {
	  return total + item
	})
	console.log(sum)

	//

	let values = [4, 56, 12, 6, 8, 45]

	let calculateAverage = values.reduce((total, item, index, array) => {
		total += item;
		if (index === array.length - 1) {
			return (total / array.length).toFixed(2);
		}
	return total
	})
	console.log(calculateAverage)


	let p = new Promise((resolve, reject) => {
		let x = 'the promise is done!';
		resolve(x);
	})

	console.log(10);

	p.then((x) => {
		console.log(x)
	})

	console.log(20);
	// 10
	// 20
	// 5


	let p_resolve = Promise.resolve('it was resolved');
	let p_reject = Promise.reject('not resolved');

	p_resolve.then((result) => {
		console.log(result);
	});

	p_reject.catch((err) => {
		console.log(err);
	});

	// it was resolve
	// not resolved
*/

function loadScript(srcValue, callback) {
 	let script = document.createElement('script'); // an element is created, and it is saved on variable 'script'
 	script.src = srcValue; // the value in srcValue is passed to the property 'src' of the element 'script'
	document.head.append(script); // we append this new elemento to the 'head' of our HTML
 	script.onload = () => callback(script); // when the element is settled, the callback is called.
 	// if we dont put 'script.onload' it is going to work, but we want this to work ONLY IF THE ELEMENT IS LOADED ON THE HEAD OF THE HTML.
}

//the function is called passing the value of srcValue and the callback.
loadScript('https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js', script => {  
 	alert(`Cool, the script ${script.src} is loaded`);
});

// this is another way to write the same funtion:
loadScript('https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js', function(script) {
	alert(`Cool, the script ${script.src} is loaded`);
});










	</script>
</body>
</html>